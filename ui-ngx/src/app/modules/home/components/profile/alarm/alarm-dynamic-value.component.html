<mat-expansion-panel [formGroup] = "dynamicValue" class="device-profile-alarm" style = "margin-bottom: 26px;" fxFlex>
  <mat-expansion-panel-header>
    <div fxFlex fxLayout="row" fxLayoutAlign="start center">
      <mat-panel-title>
        <div fxLayout="row" fxFlex fxLayoutAlign="start center">
          {{'filter.dynamic-value' | translate}}
        </div>
      </mat-panel-title>
      <span fxFlex></span>
    </div>
  </mat-expansion-panel-header>
  <ng-template matExpansionPanelContent>
    <div fxFlex fxLayout="column">
      <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">
        <div fxFlex="40" fxLayout="column">
          <mat-form-field floatLabel="always" hideRequiredMarker class="mat-block">
            <mat-label></mat-label>
            <mat-select formControlName="sourceType" placeholder="{{'filter.dynamic-source-type' | translate}}">
              <mat-option [value]="null">
                {{'filter.no-dynamic-value' | translate}}
              </mat-option>
              <mat-option *ngFor="let sourceType of dynamicValueSourceTypes" [value]="sourceType">
                {{dynamicValueSourceTypeTranslations.get(sourceType) | translate}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div fxFlex fxLayout="column">
          <mat-form-field floatLabel="always" hideRequiredMarker class="mat-block source-attribute">
            <mat-label></mat-label>
            <input matInput formControlName="sourceAttribute" placeholder="{{'filter.source-attribute' | translate}}">
          </mat-form-field>
        </div>
        <div [tb-help-popup]="helpId"></div>
      </div>
    </div>
  </ng-template>
</mat-expansion-panel>
