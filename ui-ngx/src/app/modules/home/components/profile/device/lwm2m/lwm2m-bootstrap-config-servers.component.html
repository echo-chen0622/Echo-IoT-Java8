<div fxLayout="column">
  <mat-accordion multi="true">
    <div *ngFor="let serverConfig of serverConfigsFromArray().controls; trackBy: trackByParams; let $index = index;">
      <tb-profile-lwm2m-device-config-server
        [formControl]="serverConfig"
        (removeServer)="removeServerConfig($event, $index)"
        (isTransportWasRunWithBootstrapChange)="updateIsTransportWasRunWithBootstrap($event)">
      </tb-profile-lwm2m-device-config-server>
    </div>
  </mat-accordion>
  <div *ngIf="!serverConfigsFromArray().controls.length" style="margin:32px 0">
      <span translate fxLayoutAlign="center center"
            class="tb-prompt">device-profile.lwm2m.no-config-servers</span>
  </div>
  <div *ngIf="!disabled" style="padding-top: 16px;">
    <button mat-raised-button color="primary"
            type="button"
            (click)="addServerConfig()">
      <span>{{ (this.isBootstrapServerNotAvailable() ? 'device-profile.lwm2m.add-lwm2m-server-config' :
        'device-profile.lwm2m.add-server-config') | translate }}</span>
    </button>
  </div>
</div>
