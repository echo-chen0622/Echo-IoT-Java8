<section class="tb-widget-settings" [formGroup]="entitiesTableKeySettingsForm" fxLayout="column">
  <mat-form-field fxFlex class="mat-block">
    <mat-label translate>widgets.table.custom-title</mat-label>
    <input matInput formControlName="customTitle">
  </mat-form-field>
  <mat-form-field fxFlex class="mat-block">
    <mat-label translate>widgets.table.column-width</mat-label>
    <input matInput formControlName="columnWidth">
  </mat-form-field>
  <fieldset class="fields-group fields-group-slider">
    <legend class="group-title" translate>widgets.table.cell-style</legend>
    <mat-expansion-panel class="tb-settings" [expanded]="entitiesTableKeySettingsForm.get('useCellStyleFunction').value">
      <mat-expansion-panel-header fxLayout="row wrap">
        <mat-panel-title>
          <mat-slide-toggle formControlName="useCellStyleFunction" (click)="$event.stopPropagation()"
                            fxLayoutAlign="center">
            {{ 'widgets.table.use-cell-style-function' | translate }}
          </mat-slide-toggle>
        </mat-panel-title>
        <mat-panel-description fxLayoutAlign="end center" fxHide.xs translate>
          widget-config.advanced-settings
        </mat-panel-description>
      </mat-expansion-panel-header>
      <ng-template matExpansionPanelContent>
        <tb-js-func required
                    formControlName="cellStyleFunction"
                    [globalVariables]="functionScopeVariables"
                    [functionArgs]="['value', 'entity', 'ctx']"
                    functionTitle="{{ 'widgets.table.cell-style-function' | translate }}"
                    helpId="widget/lib/entity/cell_style_fn">
        </tb-js-func>
      </ng-template>
    </mat-expansion-panel>
  </fieldset>
  <fieldset class="fields-group fields-group-slider">
    <legend class="group-title" translate>widgets.table.cell-content</legend>
    <mat-expansion-panel class="tb-settings" [expanded]="entitiesTableKeySettingsForm.get('useCellContentFunction').value">
      <mat-expansion-panel-header fxLayout="row wrap">
        <mat-panel-title>
          <mat-slide-toggle formControlName="useCellContentFunction" (click)="$event.stopPropagation()"
                            fxLayoutAlign="center">
            {{ 'widgets.table.use-cell-content-function' | translate }}
          </mat-slide-toggle>
        </mat-panel-title>
        <mat-panel-description fxLayoutAlign="end center" fxHide.xs translate>
          widget-config.advanced-settings
        </mat-panel-description>
      </mat-expansion-panel-header>
      <ng-template matExpansionPanelContent>
        <tb-js-func required
                    formControlName="cellContentFunction"
                    [globalVariables]="functionScopeVariables"
                    [functionArgs]="['value', 'entity', 'ctx']"
                    functionTitle="{{ 'widgets.table.cell-content-function' | translate }}"
                    helpId="widget/lib/entity/cell_content_fn">
        </tb-js-func>
      </ng-template>
    </mat-expansion-panel>
  </fieldset>
  <mat-form-field fxFlex class="mat-block">
    <mat-label translate>widgets.table.default-column-visibility</mat-label>
    <mat-select formControlName="defaultColumnVisibility">
      <mat-option [value]="'visible'">
        {{ 'widgets.table.column-visibility-visible' | translate }}
      </mat-option>
      <mat-option [value]="'hidden'">
        {{ 'widgets.table.column-visibility-hidden' | translate }}
      </mat-option>
      <mat-option [value]="'hidden-mobile'">
        {{ 'widgets.table.column-visibility-hidden-mobile' | translate }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field fxFlex class="mat-block">
    <mat-label translate>widgets.table.column-selection-to-display</mat-label>
    <mat-select formControlName="columnSelectionToDisplay">
      <mat-option [value]="'enabled'">
        {{ 'widgets.table.column-selection-to-display-enabled' | translate }}
      </mat-option>
      <mat-option [value]="'disabled'">
        {{ 'widgets.table.column-selection-to-display-disabled' | translate }}
      </mat-option>
    </mat-select>
  </mat-form-field>
</section>
